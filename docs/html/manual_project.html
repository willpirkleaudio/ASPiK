<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ASPiK SDK: Optional: Manual Project Creation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ASPiK SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('manual_project.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Optional: Manual Project Creation </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>DIY Project Creation</b><br  />
 If you'd like to create your plugin project by hand, you can do that with the SDK as well. The steps are outlined in Designing Audio Effects Plugins in C++ 2nd Ed. by Will Pirkle and are repeated here. <br  />
 <br  />
 <b>Step 1: Copy the TemplatePlugin</b><br  />
 Copy and paste the TemplatePlugin folder into your ASPiK project folder. Change the name of the folder to a new name that makes sense for the project. Make sure it is a valid CMake name (no spaces, no oddball characters, no numbers). <br  />
 <br  />
 <b>Step 2: Edit the CMake File</b><br  />
 Open the outermost CMakeLists.txt file in any text editor and alter the variables at the top of the file according to your plugin needs. In the example here, we are setting up a project for the book's IIRFilters plugin: <br  />
 <br  />
 At the top of the file are the names of the SDK root folders and they will be preset to the names we used in Section 6.2 and will look like this:</p>
<div class="fragment"><div class="line"><span class="preprocessor"># --- Here you can set the names of your UNIVERSAL SDK folders  &lt;br&gt;</span></div>
<div class="line">set(UNI_AAX_SDK_FOLDER AAX_SDK)</div>
<div class="line">set(UNI_AU_SDK_FOLDER AU_SDK)</div>
<div class="line">set(UNI_VST3_SDK_FOLDER VST_SDK/VST3_SDK)</div>
</div><!-- fragment --><p>These folder names are only needed for universal projects where you target one or more SDKs and you use the outside myprojects folder in Section 6.2.5. If you are targeting individual APIs, you don’t need to bother with the naming as CMake uses relative path locations. The next section contains the build flags. Here is where you choose which APIs to target for the compiler. The settings below show a VST-only build setting. The UNIVERSAL_SDK_BUILD flag is set to FALSE (for an individual build) and the VST_SDK_BUILD flag is set to TRUE, indicating that API as the target.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># --- Universal Build Flag - when using combined SDKs</span></div>
<div class="line">set(UNIVERSAL_SDK_BUILD FALSE) <span class="preprocessor"># &lt;-- set TRUE or FALSE</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># Individual project builds&lt;br&gt;</span></div>
<div class="line">set(AAX_SDK_BUILD FALSE) <span class="preprocessor"># &lt;-- set TRUE or FALSE</span></div>
<div class="line">set(AU_SDK_BUILD  FALSE) <span class="preprocessor"># &lt;-- set TRUE or FALSE</span></div>
<div class="line">set(VST_SDK_BUILD TRUE)  <span class="preprocessor"># &lt;-- set TRUE or FALSE</span></div>
</div><!-- fragment --><p>To build a Universal project that targets VST and AU, you would set these flags accordingly: </p><div class="fragment"><div class="line"><span class="preprocessor"># --- Universal Build Flag - when using combined SDKs</span></div>
<div class="line">set(UNIVERSAL_SDK_BUILD TRUE)<span class="preprocessor"># &lt;-- set TRUE or FALSE</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># --- Individual project builds</span></div>
<div class="line">set(AAX_SDK_BUILD FALSE) <span class="preprocessor"># &lt;-- set TRUE or FALSE&lt;br&gt;</span></div>
<div class="line">set(AU_SDK_BUILD  TRUE)  <span class="preprocessor"># &lt;-- set TRUE or FALSE&lt;br&gt;</span></div>
<div class="line">set(VST_SDK_BUILD TRUE)  <span class="preprocessor"># &lt;-- set TRUE or FALSE</span></div>
<div class="line"><span class="preprocessor">#</span></div>
</div><!-- fragment --><p>With the build flags set, you can finish the edits with the project information. These values are set in the next section of the file and are generally self-explanatory. The first is the compiler project name (IIRFilters) and this project name must not contain whitespaces or special characters.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># --- the name of the project must be valid CMAKE name: set PROJECT NAME with or without quotes</span></div>
<div class="line">set(PLUGIN_PROJECT_NAME IIRFilters)</div>
<div class="line"><span class="preprocessor">#</span></div>
</div><!-- fragment --><p>The next edit is for the plugin name that the DAW will expose to the user; here we are calling it the Filterizer. Notice that this name contains quotes and can be the same as or different than the iroject name. You can include whitespaces, numbers, other characters, or almost anything else in this text description.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># --- the name of the PLUGIN as you want it to appear in DAW: set PLUGIN NAME with quotes&lt;br&gt;</span></div>
<div class="line">set(PLUGIN_NAME <span class="stringliteral">&quot;Filterizer&quot;</span>)</div>
<div class="line"><span class="preprocessor">#</span></div>
</div><!-- fragment --><p>The next edit is for identifying the plugin as a FX or Synth plugin. It uses a boolean flag to identify the synth-ness of the project. A synth plugin only has outputs and does not process an audio input (unless it is a sidechain). All projects in this book are FX plugins.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># --- Synth Flag: FALSE = FX plugin, TRUE = Synth Plugin&lt;br&gt;</span></div>
<div class="line">set(IS_SYNTH_PLUGIN FALSE) <span class="preprocessor"># &lt;-- set Synth Flag</span></div>
<div class="line"><span class="preprocessor">#</span></div>
</div><!-- fragment --><p>Then, you need to fill in your vendor (company) information </p><div class="fragment"><div class="line"><span class="preprocessor"># --- VENDOR information (your company stuff)</span></div>
<div class="line">set(VENDOR_NAME <span class="stringliteral">&quot;Plugin Makers&quot;</span>)        <span class="preprocessor"># &lt;-- required!&lt;br&gt;</span></div>
<div class="line">set(VENDOR_URL <span class="stringliteral">&quot;www.yourcompany.com&quot;</span>)   <span class="preprocessor"># &lt;-- OPTIONAL (ok if blank)&lt;br&gt;</span></div>
<div class="line">set(VENDOR_EMAIL <span class="stringliteral">&quot;help@yourcompany.com&quot;</span>)<span class="preprocessor"># &lt;-- OPTIONAL (ok if blank)</span></div>
</div><!-- fragment --><p>Next, you need to set some special four-character codes that are required for identification in the various APIs. You need to be careful here, and be sure to change the codes for each plugin you develop. You can use combinations of capital and lower case letters and numbers or other characters. </p><div class="fragment"><div class="line"><span class="preprocessor"># --- 4-Character Codes (for AAX and VST3): MUST be unique for each plugin your company creates/sells&lt;br&gt;</span></div>
<div class="line">set(4CHAR_CODE <span class="stringliteral">&quot;IIR1&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># --- your company CODE (does NOT need to be unique for each plugin)&lt;br&gt;</span></div>
<div class="line">set(4CHAR_MANUFACTURER_ID <span class="stringliteral">&quot;PLMK&quot;</span>)</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># --- MUST be unique for each AAX plugin your company creates/sells&lt;br&gt;</span></div>
<div class="line">set(4CHAR_AAX_PRODUCT_ID <span class="stringliteral">&quot;iir1&quot;</span>)</div>
<div class="line"><span class="preprocessor">#</span></div>
</div><!-- fragment --><p>Lastly, there are some plugin options that need to be set. First is the audio processing (see <a class="el" href="define_plugin7.html">Frame, Buffer and Sub-Block Processing</a>); here I am settign up sub-block procssing of 64 samples at a time:</p>
<div class="fragment"><div class="line"><span class="preprocessor"># --- Plugin Options ---</span></div>
<div class="line">set(PROCESS_FRAMES FALSE)    <span class="preprocessor"># &lt;-- set TRUE or FALSE</span></div>
<div class="line">set(PROCESS_BUFFERS FALSE)   <span class="preprocessor"># &lt;-- set TRUE or FALSE</span></div>
<div class="line">set(PROCESS_BLOCKS TRUE)     <span class="preprocessor"># &lt;-- set TRUE or FALSE</span></div>
<div class="line">set(BLOCK_SIZE 64)           <span class="preprocessor"># &lt;-- numerical, in samples (per channel) if using blocks</span></div>
<div class="line"><span class="preprocessor">###</span></div>
</div><!-- fragment --><p>The next option is for side chaining. If you would like the DAW to expose side chain inputs to your plugin, set the EXPOSE_SIDECHAIN flag to TRUE, otherwise false. Our volume plugin won’t need it so we will set it to FALSE here.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># --- expose SC&lt;br&gt;</span></div>
<div class="line">(EXPOSE_SIDECHAIN FALSE) &lt;/strong&gt;# &lt;-- set TRUE or FALSE</div>
<div class="line">#</div>
</div><!-- fragment --><p>Next is the latency setting in samples. This is a special setting for lookahead compressors or FFT processing plugins that necessarily introduce a latency or time-delay to the audio signal. Set this parameter in samples. </p><div class="fragment"><div class="line"><span class="preprocessor"># --- LATENCY for lookahead plugins&lt;br&gt;</span></div>
<div class="line">set(LATENCY_IN_SAMPLES 0) <span class="preprocessor"># &lt;-- numerical, in samples</span></div>
<div class="line"><span class="preprocessor"># </span></div>
</div><!-- fragment --><p>The tail time may be set so that you can hear your reverb or delay tails. For VST3, there is an option for an infinite tail – it this variable is set to true, the DAW will run a continuous stream of zeros through your plugin forever after the user stops playback the very first time. We’ll use a default tail time of 1 second here, even though our volume plugin won’t need a tail and we’ll set the VST3 infinite tail to FALSE.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># --- tail-time for reverb/delay plugins&lt;br&gt;</span></div>
<div class="line">set(TAIL_TIME_MSEC 1000) <span class="preprocessor"># &lt;-- numerical, in mSec</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor"># --- VST3 options: infinite tail (DAW keeps streaming forever)&lt;br&gt;</span></div>
<div class="line">set(VST3_INFINITE_TAIL FALSE)</div>
<div class="line"><span class="preprocessor">#</span></div>
</div><!-- fragment --><p>The last option involves sample accurate automation for VST3 plugins only. For our IIRFilters plugin, we will leave this in their default settings of no sample accurate automation and a granularity of 1 sample. </p><div class="fragment"><div class="line"><span class="preprocessor">#</span></div>
<div class="line">set(VST3_SAMPLE_ACCURATE_AUTOMATION FALSE)</div>
<div class="line">set(VST3_SAMPLE_ACCURATE_GRANULARITY 1)</div>
<div class="line"><span class="preprocessor">#</span></div>
</div><!-- fragment --><p>There are three more flags to set – one will automatically include the <a class="el" href="fxobjects_8h.html" title="a collection of 54 objects and support structures, functions and enuemrations for all projects docume...">fxobjects.h</a> and <a class="el" href="fxobjects_8cpp.html" title="a collection of 54 objects and support structures, functions and enuemrations for all projects docume...">fxobjects.cpp</a> files to integrate the book C++ objects into your project. The next is for linking with the FFTW library for the advanced plugins in Chapters 20 and 22. Note that you must install FFTW on your system prior to setting the link flag.</p>
<div class="fragment"><div class="line"><span class="preprocessor"># --- more flags  &lt;br&gt;</span></div>
<div class="line">set(INCLUDE_FX_OBJECTS TRUE) <span class="preprocessor"># &lt;-- set TRUE or FALSE&lt;br&gt;</span></div>
<div class="line">set(LINK_FFTW  FALSE)        <span class="preprocessor"># &lt;-- set TRUE or FALSE&lt;br&gt;</span></div>
<div class="line"><span class="preprocessor">#</span></div>
</div><!-- fragment --><p><b>AAX Plugin Category</b><br  />
 The AAX plugin category is coded as an unsigned integer and based on a list of plugin codes. If you use the ASPiKreator software, you can see this list in the drop-down combo box. The encoding from the documentation is: <br  />
 AAX_ePlugInCategory_None = 0x00000000, <br  />
 AAX_ePlugInCategory_EQ = 0x00000001, ///&lt; Equalization<br  />
 AAX_ePlugInCategory_Dynamics = 0x00000002, ///&lt; Compressor, expander, limiter, etc.<br  />
 AAX_ePlugInCategory_PitchShift = 0x00000004, ///&lt; Pitch processing<br  />
 AAX_ePlugInCategory_Reverb = 0x00000008, ///&lt; Reverberation and room/space simulation<br  />
 AAX_ePlugInCategory_Delay = 0x00000010, ///&lt; Delay and echo<br  />
 AAX_ePlugInCategory_Modulation = 0x00000020, ///&lt; Phasing, flanging, chorus, etc.<br  />
 AAX_ePlugInCategory_Harmonic = 0x00000040, ///&lt; Distortion, saturation, and harmonic enhancement<br  />
 AAX_ePlugInCategory_NoiseReduction = 0x00000080, ///&lt; Noise reduction<br  />
 AAX_ePlugInCategory_Dither = 0x00000100, ///&lt; Dither, noise shaping, etc.<br  />
 AAX_ePlugInCategory_SoundField = 0x00000200, ///&lt; Pan, auto-pan, upmix and downmix, and surround handling<br  />
 AAX_ePlugInCategory_HWGenerators = 0x00000400, ///&lt; Fixed hardware audio sources such as SampleCell<br  />
 AAX_ePlugInCategory_SWGenerators = 0x00000800, ///&lt; Virtual instruments and other software audio sources<br  />
 AAX_ePlugInCategory_WrappedPlugin = 0x00001000, ///&lt; All plug-ins wrapped by a third party wrapper<br  />
 AAX_EPlugInCategory_Effect = 0x00002000, ///&lt; Special effects<br  />
</p>
<div class="fragment"><div class="line"><span class="preprocessor">#</span></div>
<div class="line">set(AAX_CATEGORY 0) <span class="preprocessor"># &lt;-- see AAX Category codes in ASPiK SDK Documentation</span></div>
<div class="line"><span class="preprocessor">#</span></div>
</div><!-- fragment --><p>That’s all there is to editing this file unless you want to make changes regarding the relative locations of the SDK folders or other tweaks. Be sure to visit www.willpirkle.com for these instructions if you are interested. Now you can save the file and we can run CMake to finish off the project process. <br  />
 <br  />
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">ASPiK Developer&#39;s Guide</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
