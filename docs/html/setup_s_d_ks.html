<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ASPiK SDK: Setting up your SDKs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ASPiK SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('setup_s_d_ks.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Setting up your SDKs </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>SDK Folder Naming Convention</b><br  />
 You will need to navigate either Terminal or the Windows Command Prompt to various locations within your SDKs to run CMake. To keep the folder names simple and easy to use with Terminal/Command Prompt, I use a naming convention with:</p>
<ul>
<li>no whitespaces (blanks)</li>
<li>no numbers</li>
<li>no special characters</li>
</ul>
<p>There are currently three supported APIs for ASPiK: AAX, AU and VST and each SDK consists of a series of subfolders with AU being the simplest and VST being the most complex in terms of folder hierarchies. <br  />
 <br  />
 You can setup individual project folders for each API or create a universal folder that will allow you to build for all APIs at once. Here we will set up each SDK independently, and then show the universal SDK folder settings. <b>Note that you can change this stuff in the CMakeLists.txt file if you know how. Then, you can hardcode whatever folder hierarchy makes sense for you. </b> <br  />
 <br  />
 <b>Alternate SDK Folder Structures</b><br  />
 If you would like to arrange your SDKs in a different manner you can do that as well but you will need to edit the CMakeLists.txt file to do so and you need to know how to edit CMake files properly. The SDK folder locations are set near the top of the file and are used after the user-editable stuff near the middle. It is strongly advised to first get your ASPiK projects up and running with the folder hierarchy described here. Once you have your first projects compiling properly, you may then want to experiment with alternate SDK folder hierarchies. <br  />
 <br  />
 <b>Remember the VSTGUI4 Library!</b><br  />
 The vstgui4 sub-folder MUST lie within your myprojects folder or you will receive millions of error when you compile mentioning "vstgui" so remeber to add this folder when you are done setting up the SDK outer container folders. See the previous ASPiK Project Folder section. <br  />
 <br  />
</p>
<p><b>AU SDK</b><br  />
 The AU SDK is rarely updated as it has been stable and effective for many years. In fall 2023, Apple updated the AU SDK to v1.1.0 and began using GitHub to host the SDK. This version of ASPiK requires the <b>new</b> v1.1.0 SDK. <b>There were changes in the new SDK that make the old plugin code incompatible without changing numerous functions</b>. The AUInstrumentBase was removed so the synth shell code changed to accomodate. However, the changes were fundamentally easy and minimal, and there was no change to the ASPiK core. <br  />
 <br  />
 <b>NEW USERS</b><br  />
 We will setup the AU SDK folder and sub-folders to match the folder hierarchy in the FX and synth plugin books. This way, if you are working from them, all the existing text will be correct except the names of the two sub-folders which are only stated once in the beginning. The original SDK used two sub-folders named <b>AUPublic</b> and <b>PublicUtility</b>. The new SDK uses two sub-folders named <b>include</b> and <b>src</b>. <br  />
 <br  />
 For the AU SDK, you first need to create an outer container for the two SDK sub-folders. You may name this folder whatever you wish - I use the name AU_SDK¬ù for my folder so we will use it here, and this is repeated in the books. And, if you decide to use the Universal API paradigm instead, you can re-use the same AU_SDK outer folder without issues. <br  />
 <br  />
 Add the myprojects subfolder. <br  />
 <br  />
 Go to <a href="https://github.com/apple/AudioUnitSDK">https://github.com/apple/AudioUnitSDK</a> and download the SDK. When you unzip the SDK, it will expose the outer folder named <b>AudioUnitSDK-main</b>. Inside of that folder are our target SDK sub-folders, <b>include</b> and <b>src</b>. Copy these two folders into your AU_SDK folder. Place your <b>myprojects</b> folder in parallel with the two SDK sub-folders and inside of your outer AU_SDK folder like this:</p>
<p><img src="aspik_02.5.png" alt="" align="left" class="inline"/> <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 Then, place the <b>vstgui4</b> folder inside of myprojects and you are done. <br  />
 <br  />
 <b>AU v1.0 USERS</b><br  />
 If you have already built AU plugins with ASPiK, you have two choices here and you can control this by manually editing a cmake file if you like. The ASPiK default is to merge the old and new SDKs by simply copying the <b>include</b> and <b>src</b> subfolders into your existing AU_SDK folder. Then, create a new <b>myprojects</b> subfolder for the new SDK, and add the new vstgui4 graphics subfolder for this ASPiK SDK version. You will still be able to build both old and new projects from the same folder since the files do not overlap and the new sdkj is namespaced just to make sure. If you use this default MERGED paradigm, your AU_SDK folder will look like this:</p>
<p><img src="aspik_02.6.png" alt="" align="left" class="inline"/> <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <b>STAYING WITHIN THE NEW SDK FOLDER</b><br  />
 The second choice for dealing with the new AU SDK is to work within this folder by creating a new <b>myprojects</b> sub-folder inside of the main <b>AudioUnitSDK-main</b> folder. The new AU SDK has the same twin folder hierarchy as the old one and the relative location of your myprojects sub-folder is all cmake needs so that outer folder name is not important. Your new AU SDK folder will look like this:</p>
<p><img src="aspik_02.7.png" alt="" align="left" class="inline"/> <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 If you do not use the Universal build option (build AU, AAX and VST in the same project) then you can do this without modification of anything else and you are done. <br  />
 <br  />
 If you do intend on using Universal builds, then you will need to tweak one line of script in the outer CMakeLists.txt file for each new project. At the very top just below the # &mdash; BEGIN USER INPUT, set the BOOL value to FALSE indicating a NON-MERGED AU SDK folder; NOTE that the default value is TRUE (MERGED). <br  />
 <br  />
 <b>set(MERGED_AU_SDKS FALSE)</b> # &lt;&ndash; set TRUE (default) or FALSE (separate SDKs) <br  />
 <br  />
 <b>AAX SDK</b><br  />
 The AAX SDK is contained within a series of subfolders of the current SDK branch. You must establish an account with Avid to gain access to the SDK and Pro Tools Developer Version and you will need an iLok2 device for storing your Pro Tools activation key.</p>
<p>The AAX SDK architects use numbers when naming the various versions such as AAX_SDK_2p3p0 which reads AAX SDK version 2.3.0¬ù I prefer to rename the current SDK to AAX_SDK in keeping with folder naming convention discussed in the Intro to CMake portion of the docs, as well as shortening the name a bit. As with the AU projects, your <b>myprojects</b> subfolder will be located in parallel with the other SDK sub-folders at the outermost level.And, if you decide to use the Universal API paradigm instead, you can re-use the same AU_SDK outer folder without issues. My folder hierarchy looks like this:</p>
<p><img src="aspik_04.png" alt="" align="left" class="inline"/> <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
</p>
<p><b>VST SDK</b><br  />
 The VST SDK is contained within a series of subfolders of the current SDK branch. The architects name the outermost folder VST_SDK and it contains two inner folders, VST2_SDK and VST3_SDK. In addition, there are two script files, one for Mac and one for Windows. These scripts install the VST2 SDK folders within the VST3 SDK so that you may use the VST2 wrapper that is included with the VST3 SDK. <br  />
 <br  />
 Important: ASPiK VST projects are VST2 compatible by design and require the VST2 API files to be setup properly. This is fairly simple: <br  />
 <br  />
 <b>Windows</b><br  />
 Navigate to the VST3_SDK folder that contains copy_vst2_to_vst3_sdk.bat, then, double-click on the copy_vst2_to_vst3_sdk.bat file to run the copy mechanism. <br  />
 <br  />
 <b>MacOS</b><br  />
 Open a Terminal window and navigate to the VST3_SDK folder that contains the copy_vst2_to_vst3_sdk.sh file. Drag and drop the copy_vst2_to_vst3_sdk.sh file into Terminal. This will run the copy mechanism. <br  />
 <br  />
 With the VST2 SDK installed, you can now create the <b>myprojects</b> folder for your exported projects. It needs to be located just inside the VST3_SDK subfolder, in parallel with the other SDK files, exactly as with AU and AAX. Your folder hierarchy should look like this:</p>
<p><img src="aspik_05.png" alt="" align="left" class="inline"/> <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 You can see the SDK's CMakeLists.txt file - this is entirely independent of your exported projects and when you run CMake for the exported project, it will not interfere in any way with the SDK's files or CMake scripts. You should note that index.html is the Doxygen documentation link.</p>
<p><b>Universal Exported Project Location</b><br  />
 Creating a folder hierarchy for the Universal setup is simple: create an outer folder to hold the SDK sub-folders in parallel with each other. I use the folder name ALL_SDK for my Universal projects. Your myprojects sub-folder is located in parallel with all three SDK folders and is not inside any one of them. My universal project folders look like this: <img src="aspik_06.png" alt="" align="left" class="inline"/> <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 <br  />
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">ASPiK Developer&#39;s Guide</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
