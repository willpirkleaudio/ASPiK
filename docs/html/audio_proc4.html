<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ASPiK SDK: Parameter Smoothing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ASPiK SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('audio_proc4.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Parameter Smoothing </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>ASPiK implements two types of parameter smoothing:</p><ul>
<li>native: you may setup the parameters to smooth themselves on each frame, buffer, or sub-block bounday (or any combination)</li>
<li>VST3 Sample Accurate Automation (VST3SAA): for VST3 plugins only, Steinberg defines a method of smoothing parameters arriving from automation playback; if you use the native smoothing properly, you should not need VST3SAA however there may be some specialized plugin for VST3 only, in which you need it</li>
</ul>
<p>Prior to ASPiK 1.6.8, the native and VST3SAA smoothing operations took place in the same function. For SDK 1.6.8 and beyond, these two smoothing operations have been separated out of a single function, and placed into two functions; you may enable/disable them independently (they have always been independent). Separating the two smoothing methods this way actually <b>saves CPU cycles</b> and parameters may only be smoothed once, with one version or the other. My advice is to implement native smoothing properly, then forget about VSTY3SAA smoothing and just leave it disabled (from the ASPiKreator or in <a class="el" href="plugindescription_8h_source.html">plugindescription.h</a>).</p>
<p><b>GUI Parameter Update/Cooking with Parameter Smoothing OFF</b><br  />
 When parameter smoothing is turned off, the parameter's value will remain fixed and constant during the entire buffer processing cycle. This means that we are wasting CPU cycles by recalculating the cooked volume value on each audio frame. We really only need to calculate it once per buffer cycle and we can make use of the function <b><a class="el" href="class_plugin_core.html#ac9434dc2b1d2abe3b69357f48aa20513" title="perform any operations after the plugin parameter has been updated; this is one paradigm for transfer...">PluginCore::postUpdatePluginParameter</a></b> that will be called during the buffer pre-processing phase. Since this function is external to the <em>processAudioFrame</em> function, we will need to declare the cooked volume value as a member variable of the <a class="el" href="class_plugin_core.html" title="The PluginCore object is the default PluginBase derived object for ASPiK projects....">PluginCore</a> object in the <a class="el" href="plugincore_8h.html" title="base class interface file for ASPiK plugincore object">plugincore.h</a> file:<br  />
</p>
<div class="fragment"><div class="line"><span class="comment">// --- members</span></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line"><span class="comment">// --- Continuous Plugin Variables</span></div>
<div class="line"><span class="keywordtype">double</span> volume_dB = 0.0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// --- cooked volume value PluginCore::postUpdatePluginParameter()</span></div>
<div class="line"><span class="keywordtype">double</span> volumeCooked = 0.0;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// --- Discrete Plugin Variables</span></div>
<div class="line"><span class="keywordtype">int</span> enableMute = 0;</div>
<div class="line"> </div>
<div class="line">etc . . .</div>
<div class="line"><span class="comment">//</span></div>
</div><!-- fragment --><p>Then, in <b><a class="el" href="class_plugin_core.html#ac9434dc2b1d2abe3b69357f48aa20513" title="perform any operations after the plugin parameter has been updated; this is one paradigm for transfer...">PluginCore::postUpdatePluginParameter</a></b> we will decode the parameter controlID, and cook the incoming raw data. Because of our clever controlID enumeration naming convention, we don't need to look up the controlID, we simply use the enumeration which is the same as the variable name (controlID::volume_dB):</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code hl_function" href="class_plugin_core.html#ac9434dc2b1d2abe3b69357f48aa20513">PluginCore::postUpdatePluginParameter</a>(int32_t controlID, <span class="keywordtype">double</span> controlValue, <a class="code hl_struct" href="struct_parameter_update_info.html">ParameterUpdateInfo</a>&amp; paramInfo)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// --- decode the controlID</span></div>
<div class="line">   <span class="keywordflow">switch</span>(controlID)</div>
<div class="line">   {</div>
<div class="line">      <span class="keywordflow">case</span> controlID::volume_dB:</div>
<div class="line">      {</div>
<div class="line">         <span class="comment">// --- cooked variables</span></div>
<div class="line">         volumeCooked = pow(10.0, volume_dB / 20.0);</div>
<div class="line">         <span class="keywordflow">return</span> <span class="keyword">true</span>;    <span class="comment">// handled</span></div>
<div class="line">      }</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">default</span>:</div>
<div class="line">      <span class="keywordflow">return</span> <span class="keyword">false</span>;   <span class="comment">// not handled</span></div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"><span class="comment">//</span></div>
<div class="ttc" id="aclass_plugin_core_html_ac9434dc2b1d2abe3b69357f48aa20513"><div class="ttname"><a href="class_plugin_core.html#ac9434dc2b1d2abe3b69357f48aa20513">PluginCore::postUpdatePluginParameter</a></div><div class="ttdeci">virtual bool postUpdatePluginParameter(int32_t controlID, double controlValue, ParameterUpdateInfo &amp;paramInfo)</div><div class="ttdoc">perform any operations after the plugin parameter has been updated; this is one paradigm for transfer...</div><div class="ttdef"><b>Definition:</b> plugincore.cpp:481</div></div>
<div class="ttc" id="astruct_parameter_update_info_html"><div class="ttname"><a href="struct_parameter_update_info.html">ParameterUpdateInfo</a></div><div class="ttdoc">Information about a paraemeter being updated. Used when bound variables are updated....</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:835</div></div>
</div><!-- fragment --><p>Now, we can remove the cooking calculation from the frame processing function (we'll just comment it out):</p>
<div class="fragment"><div class="line"><span class="comment">// --- convert dB to raw NOW DONE IN postUpdatePluginParameter</span></div>
<div class="line"><span class="comment">// double volumeCooked = pow(10.0, volume_dB / 20.0); &lt;-- commented out!</span></div>
<div class="line"><span class="keywordtype">double</span> volume_L = volumeCooked;</div>
<div class="line"><span class="keywordtype">double</span> volume_R = volumeCooked;</div>
<div class="line"><span class="comment">//</span></div>
</div><!-- fragment --><p><b><a class="el" href="struct_parameter_update_info.html" title="Information about a paraemeter being updated. Used when bound variables are updated....">ParameterUpdateInfo</a> Options</b><br  />
 There may be situations where you do not want to perform the post-update cooking function based on whether the parameter was changed during 1) the normal buffer cycle process, 2) a parameter smoothing operation, 3) a VST sample accurate update or 4) the user loading a preset. You might want to experiment with CPU usage rates or have other plugin-specific issues to deal with. For example, if the cooking process is CPU intensive because of some plugin option that the user has chosen, you might opt to disable the cooking in this situation. The third argument in the postUpdatePluginParameter function is a <a class="el" href="struct_parameter_update_info.html" title="Information about a paraemeter being updated. Used when bound variables are updated....">ParameterUpdateInfo</a> structure that delivers information about how and why the function is being called. You can examine the member variables and use them to alter your logic for the cooking process.</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code hl_struct" href="struct_parameter_update_info.html">ParameterUpdateInfo</a></div>
<div class="line">{</div>
<div class="line">   &lt;SNIP SNIP SNIP&gt;</div>
<div class="line"> </div>
<div class="line">   <span class="keywordtype">bool</span> <a class="code hl_variable" href="struct_parameter_update_info.html#aedbeddcf847d0023262ceda36a813335">isSmoothing</a>;</div>
<div class="line">   <span class="keywordtype">bool</span> <a class="code hl_variable" href="struct_parameter_update_info.html#adf94ebe7de7c6b013b701234c31d40e0">isVSTSampleAccurateUpdate</a>;</div>
<div class="line">   <span class="keywordtype">bool</span> <a class="code hl_variable" href="struct_parameter_update_info.html#af23312a603cd27c0bbbc014059c86d51">loadingPreset</a>;</div>
<div class="line">   <span class="keywordtype">bool</span> <a class="code hl_variable" href="struct_parameter_update_info.html#ada4619ce387f3cbc0cf2befb62734861">boundVariableUpdate</a>;</div>
<div class="line">   <span class="keywordtype">bool</span> <a class="code hl_variable" href="struct_parameter_update_info.html#a8d63e39da7ab2d3ab1f5169d018392f6">bufferProcUpdate</a>;</div>
<div class="line"> </div>
<div class="line">   &lt;SNIP SNIP SNIP&gt;</div>
<div class="line">};</div>
<div class="ttc" id="astruct_parameter_update_info_html_a8d63e39da7ab2d3ab1f5169d018392f6"><div class="ttname"><a href="struct_parameter_update_info.html#a8d63e39da7ab2d3ab1f5169d018392f6">ParameterUpdateInfo::bufferProcUpdate</a></div><div class="ttdeci">bool bufferProcUpdate</div><div class="ttdoc">update at top of buffer process</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:872</div></div>
<div class="ttc" id="astruct_parameter_update_info_html_ada4619ce387f3cbc0cf2befb62734861"><div class="ttname"><a href="struct_parameter_update_info.html#ada4619ce387f3cbc0cf2befb62734861">ParameterUpdateInfo::boundVariableUpdate</a></div><div class="ttdeci">bool boundVariableUpdate</div><div class="ttdoc">bound variable is being udpated</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:871</div></div>
<div class="ttc" id="astruct_parameter_update_info_html_adf94ebe7de7c6b013b701234c31d40e0"><div class="ttname"><a href="struct_parameter_update_info.html#adf94ebe7de7c6b013b701234c31d40e0">ParameterUpdateInfo::isVSTSampleAccurateUpdate</a></div><div class="ttdeci">bool isVSTSampleAccurateUpdate</div><div class="ttdoc">param updated with VST sample accurate automation</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:869</div></div>
<div class="ttc" id="astruct_parameter_update_info_html_aedbeddcf847d0023262ceda36a813335"><div class="ttname"><a href="struct_parameter_update_info.html#aedbeddcf847d0023262ceda36a813335">ParameterUpdateInfo::isSmoothing</a></div><div class="ttdeci">bool isSmoothing</div><div class="ttdoc">param is being (bulk) smoothed</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:868</div></div>
<div class="ttc" id="astruct_parameter_update_info_html_af23312a603cd27c0bbbc014059c86d51"><div class="ttname"><a href="struct_parameter_update_info.html#af23312a603cd27c0bbbc014059c86d51">ParameterUpdateInfo::loadingPreset</a></div><div class="ttdeci">bool loadingPreset</div><div class="ttdoc">a preset is being loaded</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:870</div></div>
</div><!-- fragment --><p>These boolean flags are fairly straightforward to figure out by their names, but here the logic used.</p><ul>
<li>isSmoothing: ordinary parameter smoothing</li>
<li>isVST3SampleAccurateUpdate: a VST3 sample accurate automation update</li>
<li>loadingPreset: the user loaded a preset in the host DAW</li>
<li>boundVariableUpdate: the variable binding operation has occurred</li>
<li>bufferProcUpdate: updating at the top of the buffer process cycle</li>
</ul>
<p><b>GUI Parameter Update/Cooking with Parameter Smoothing ON</b><br  />
 When parameter smoothing is turned on, you have another easy option for cooking the GUI data. In the previous method using <b><a class="el" href="class_plugin_core.html#ac9434dc2b1d2abe3b69357f48aa20513" title="perform any operations after the plugin parameter has been updated; this is one paradigm for transfer...">PluginCore::postUpdatePluginParameter</a></b> you decoded each controlID and cooked each parameter separately. A simple alternative is to provide a function that cooks all incoming parameters together (at the same time). In the FX book examples, this function is named <b>updateParameters</b> but of course you may name it how you wish. This function's content will be highly dependent on the algorithm and GUI controls so I won't detail it here, but remember that it converts all GUI parameter values into meaninful data for your algorithm.<br  />
</p>
<p>For example, when parameter smoothing or VST3SAA is enabled, the value of the <em>volume_dB</em> variable is going to be smoothed and updated on each sample interval at the top of the <em>processAudioFrame</em> function using either method:</p>
<ol type="1">
<li><a class="el" href="class_plugin_core.html#ac9434dc2b1d2abe3b69357f48aa20513" title="perform any operations after the plugin parameter has been updated; this is one paradigm for transfer...">PluginCore::postUpdatePluginParameter</a>: here you cook each variable separately based on controlID</li>
<li>updateParameters: in this case you remove the code from postUpdatePluginParameter and place it into a single function that cooks all variables, mine is named updateParameters</li>
</ol>
<p>Note that the ASPiK parameter smoothing is the <b>constant time</b> variety as opposed to constant rate. The smoothing operation always occurs over the interval that you set; typically 20-100mSec works fine, but for delay time controls, you should increase the parameter smoothing time to match the maximum delay time from the control, to provide a more analog sound as you move the control.<br  />
</p>
<p><b>Parameter Smoothing with Frames</b><br  />
 The processAudioFrame method already includes the call to the native and VST3SAA parameter smoothers (only one may be active at a time) via the <b>doParameterSmoothing</b> method. You can find the code for this near the top of the function. This is called once per sample interval, and then your cooking code will be called after each smoothing operation. The code here assumes you are using the updateParameters( ) paradigm:</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code hl_function" href="class_plugin_core.html#aeeb07448e6d662d8643b221b7c4413b5">PluginCore::processAudioFrame</a>(<a class="code hl_struct" href="struct_process_frame_info.html">ProcessFrameInfo</a>&amp; processFrameInfo)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// --- fire any MIDI events for this sample interval</span></div>
<div class="line">   processFrameInfo.<a class="code hl_variable" href="struct_process_frame_info.html#a2a15adb10881fe1b8d726d945fdadae7">midiEventQueue</a>-&gt;<a class="code hl_function" href="class_i_midi_event_queue.html#a5db5cc1a2d9ff162484540718f6e7b84">fireMidiEvents</a>(processFrameInfo.<a class="code hl_variable" href="struct_process_frame_info.html#ac1bd78d5fbc47f8907e8cd865e475133">currentFrame</a>);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// --- do per-frame smoothing</span></div>
<div class="line">   <a class="code hl_function" href="class_plugin_base.html#a3bd040679f4980bdd81bf7a1293958c9">doParameterSmoothing</a>(); <span class="comment">// &lt;-- this is the smoother</span></div>
<div class="line">   </div>
<div class="line">   <span class="comment">// --- IF you have your cooking code in one function, you MAY choose to call it here:</span></div>
<div class="line">   updateParameters( ): <span class="comment">// &lt;-- your cooking function that you name and write</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="ttc" id="aclass_i_midi_event_queue_html_a5db5cc1a2d9ff162484540718f6e7b84"><div class="ttname"><a href="class_i_midi_event_queue.html#a5db5cc1a2d9ff162484540718f6e7b84">IMidiEventQueue::fireMidiEvents</a></div><div class="ttdeci">virtual bool fireMidiEvents(uint32_t uSampleOffset)=0</div></div>
<div class="ttc" id="aclass_plugin_base_html_a3bd040679f4980bdd81bf7a1293958c9"><div class="ttname"><a href="class_plugin_base.html#a3bd040679f4980bdd81bf7a1293958c9">PluginBase::doParameterSmoothing</a></div><div class="ttdeci">bool doParameterSmoothing()</div><div class="ttdoc">combines parameter smoothing and VST3 sample accurate updates</div><div class="ttdef"><b>Definition:</b> pluginbase.cpp:336</div></div>
<div class="ttc" id="aclass_plugin_core_html_aeeb07448e6d662d8643b221b7c4413b5"><div class="ttname"><a href="class_plugin_core.html#aeeb07448e6d662d8643b221b7c4413b5">PluginCore::processAudioFrame</a></div><div class="ttdeci">virtual bool processAudioFrame(ProcessFrameInfo &amp;processFrameInfo)</div><div class="ttdoc">frame-processing method</div><div class="ttdef"><b>Definition:</b> plugincore.cpp:151</div></div>
<div class="ttc" id="astruct_process_frame_info_html"><div class="ttname"><a href="struct_process_frame_info.html">ProcessFrameInfo</a></div><div class="ttdoc">Information package that arrives with each new audio frame; called internally from the buffer process...</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:1177</div></div>
<div class="ttc" id="astruct_process_frame_info_html_a2a15adb10881fe1b8d726d945fdadae7"><div class="ttname"><a href="struct_process_frame_info.html#a2a15adb10881fe1b8d726d945fdadae7">ProcessFrameInfo::midiEventQueue</a></div><div class="ttdeci">IMidiEventQueue * midiEventQueue</div><div class="ttdoc">MIDI event queue.</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:1202</div></div>
<div class="ttc" id="astruct_process_frame_info_html_ac1bd78d5fbc47f8907e8cd865e475133"><div class="ttname"><a href="struct_process_frame_info.html#ac1bd78d5fbc47f8907e8cd865e475133">ProcessFrameInfo::currentFrame</a></div><div class="ttdeci">uint32_t currentFrame</div><div class="ttdoc">index of this frame</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:1192</div></div>
</div><!-- fragment --><p><b>Parameter Smoothing with Blocks</b><br  />
 When processing blocks, you may perform the parameter smoothing and cooking functions ONCE per block, or interleaved with the block processing, at which point you have the same CPU loading as when processing frames. I prefer to process once per block as long as the blocks are small (64 samples or less). There is a special function for pre-processing prior to each block process, aptly named <b>preProcessAudioBlock</b> and this is where you may smooth and cook the parameters. This code includes a commented-out function call to your parameter cooking function.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code hl_function" href="class_plugin_core.html#aa666c83c775e45f4d38fdc280f436b5b">PluginCore::preProcessAudioBlock</a>(<a class="code hl_class" href="class_i_midi_event_queue.html">IMidiEventQueue</a>* midiEventQueue)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// --- pre-process the block</span></div>
<div class="line">   processBlockInfo.clearMidiEvents();</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// --- sample accurate parameter updates</span></div>
<div class="line">   <span class="keywordflow">for</span> (uint32_t sample = processBlockInfo.<a class="code hl_variable" href="struct_process_block_info.html#aeb00318122b03f3187fdc3e097372e21">blockStartIndex</a>;</div>
<div class="line">        sample &lt; processBlockInfo.<a class="code hl_variable" href="struct_process_block_info.html#aeb00318122b03f3187fdc3e097372e21">blockStartIndex</a> + processBlockInfo.<a class="code hl_variable" href="struct_process_block_info.html#a1b5024b61e65f51c2ae02b6a3471b38e">blockSize</a>;</div>
<div class="line">        sample++)</div>
<div class="line">   {</div>
<div class="line">      <span class="comment">// --- the MIDI handler will load up the vector in processBlockInfo</span></div>
<div class="line">      <span class="keywordflow">if</span> (midiEventQueue)</div>
<div class="line">         midiEventQueue-&gt;<a class="code hl_function" href="class_i_midi_event_queue.html#a5db5cc1a2d9ff162484540718f6e7b84">fireMidiEvents</a>(sample);</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// --- this will do parameter smoothing ONLY ONCE AT THE TOP OF THE BLOCK PROCESSING</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   <span class="comment">// --- to perform per-sample parameter smoothing, move this line of code, AND your updating</span></div>
<div class="line">   <span class="comment">//     functions (see updateParameters( ) in comment below) into the for( ) loop above</span></div>
<div class="line">   <span class="comment">//     NOTE: smoothing only once per block usually SAVES CPU cycles</span></div>
<div class="line">   <span class="comment">//           smoothing once per sample period usually EATS CPU cycles, potentially unnecessarily</span></div>
<div class="line">   <a class="code hl_function" href="class_plugin_base.html#a3bd040679f4980bdd81bf7a1293958c9">doParameterSmoothing</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// --- call your GUI update/cooking function here, now that smoothing has occurred</span></div>
<div class="line">   <span class="comment">//</span></div>
<div class="line">   <span class="comment">//     NOTE:</span></div>
<div class="line">   <span class="comment">//     updateParameters is the name used in Will Pirkle&#39;s books for the GUI update function</span></div>
<div class="line">   <span class="comment">//     you may name it what you like - this is where GUI control values are cooked</span></div>
<div class="line">   <span class="comment">//     for the DSP algorithm at hand</span></div>
<div class="line">   <span class="comment">//     NOTE: updating (cooking) only once per block usually SAVES CPU cycles</span></div>
<div class="line">   <span class="comment">//           updating (cooking) once per sample period usually EATS CPU cycles, potentially unnecessarily</span></div>
<div class="line">   <span class="comment">// updateParameters();</span></div>
<div class="line"> </div>
<div class="line">   <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"><span class="comment">//</span></div>
<div class="ttc" id="aclass_i_midi_event_queue_html"><div class="ttname"><a href="class_i_midi_event_queue.html">IMidiEventQueue</a></div><div class="ttdoc">Double buffered queue for MIDI messages.</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:1628</div></div>
<div class="ttc" id="aclass_plugin_core_html_aa666c83c775e45f4d38fdc280f436b5b"><div class="ttname"><a href="class_plugin_core.html#aa666c83c775e45f4d38fdc280f436b5b">PluginCore::preProcessAudioBlock</a></div><div class="ttdeci">virtual bool preProcessAudioBlock(IMidiEventQueue *midiEventQueue=nullptr)</div><div class="ttdoc">pre-process the audio block</div><div class="ttdef"><b>Definition:</b> plugincore.cpp:234</div></div>
<div class="ttc" id="astruct_process_block_info_html_a1b5024b61e65f51c2ae02b6a3471b38e"><div class="ttname"><a href="struct_process_block_info.html#a1b5024b61e65f51c2ae02b6a3471b38e">ProcessBlockInfo::blockSize</a></div><div class="ttdeci">uint32_t blockSize</div><div class="ttdoc">size of this block</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:1077</div></div>
<div class="ttc" id="astruct_process_block_info_html_aeb00318122b03f3187fdc3e097372e21"><div class="ttname"><a href="struct_process_block_info.html#aeb00318122b03f3187fdc3e097372e21">ProcessBlockInfo::blockStartIndex</a></div><div class="ttdeci">uint32_t blockStartIndex</div><div class="ttdoc">start</div><div class="ttdef"><b>Definition:</b> pluginstructures.h:1078</div></div>
</div><!-- fragment --><p><b>Parameter Smoothing with Buffers</b><br  />
 Processing a buffer is the same concept as processing a very large block and you have the same options for breaking up the smoothing operation, all the way down to the sample (frame) level if desired. In this case, the processAudioBlock function will be based on entire buffers; or you may alternatively override and implement a <a class="el" href="class_plugin_base.html#a24ef9428c1c00d9637b4601b6a699e80" title="THE buffer processing function.">PluginCore::processAudioBuffers( )</a> function. In any event, it will be up to you to figure out how often you want to smooth and then re-cook the GUI parameters. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">ASPiK Developer&#39;s Guide</a></li><li class="navelem"><a class="el" href="simple_plugin.html">Write a Plugin</a></li><li class="navelem"><a class="el" href="define_plugin8.html">Processing the Audio Data</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
